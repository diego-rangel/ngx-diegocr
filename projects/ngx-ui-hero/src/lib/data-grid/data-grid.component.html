<div class="ui-hero-datagrid">
    <div [ngClass]="{'table-responsive': responsive}">
        <table class="table" [ngClass]="{
            'table-striped': striped,
            'table-bordered': bordered,
            'table-hover': hoverEffect
        }">
            <thead>
                <tr>
                    <th class="action text-center" *ngIf="showActionsColumn">{{actionsColumnCaption}}</th>
                    <th *ngFor="let column of columns; let i = index;" (click)="ToogleSorting(column)" class="{{column.captionClasses}}" [ngStyle]="{'width': column.width}" [ngClass]="{
                        'sortable': column.sortable,
                        'sorting': column.sort?.sorting,
                        'asc': column.sort?.sortDirection == 'asc',
                        'desc': column.sort?.sortDirection == 'desc'
                    }">
                        <div class="d-flex justify-content-between align-items-center">                            
                            <div class="flex-grow-1" [ngClass]="{'text-center': column.captionAlignment == 1, 'text-right': column.captionAlignment == 2}">
                                {{column.caption}}
                            </div>
                            <i class="fa fa-sort ml-1" *ngIf="column.sortable && !column.sort?.sorting"></i>
                            <i class="fa fa-sort-amount-asc ml-1" *ngIf="column.sortable && column.sort?.sorting && column.sort?.sortDirection == 'asc'"></i>
                            <i class="fa fa-sort-amount-desc ml-1" *ngIf="column.sortable && column.sort?.sorting && column.sort?.sortDirection == 'desc'"></i>
                        </div>
                    </th>
                </tr>
            </thead>
            <tbody *ngIf="sortApplied">
                <tr *ngFor="let row of gridData; let rowIndex = index;">
                    <td class="action text-center" *ngIf="showActionsColumn">
                        <ng-container 
                            [ngTemplateOutlet]="actionsColumnTemplate"
                            [ngTemplateOutletContext]="{
                                row: row,
                                rowIndex: rowIndex
                            }">
                        </ng-container>
                    </td>
                    <td *ngFor="let column of columns; let columnIndex = index;" class="{{column.dataClasses}}" [ngClass]="{
                        'text-center': column.dataAlignment == 1,
                        'text-right': column.dataAlignment == 2
                    }">
                        <span *ngIf="!column.render">{{row[column.data]}}</span>
                        <span *ngIf="column.render" [innerHtml]="column.render(row, row[column.data], rowIndex)"></span>
                    </td>
                </tr>
            </tbody>
            <tfoot *ngIf="!gridData || gridData.length == 0">
                <tr>
                    <td class="empty-results text-center p-3" [attr.colspan]="columns?.length + (actionsColumnTemplate ? 1 : 0)">
                        <p class="mb-0">{{emptyResultsMessage}}</p>
                    </td>
                </tr>
            </tfoot>
        </table>

        <div class="loading-box" *ngIf="!sortApplied">
            <spinner></spinner>
        </div>
    </div>

    <div class="d-flex justify-content-between align-items-center flex-wrap mt-3"  *ngIf="gridData?.length > 0">
        <div class="info mr-auto mb-3">
            <span>{{GetInfo()}}</span>
        </div>
        <div class="pagination">
            <pagination #paginator
                [(ngModel)]="currentPage"
                [totalItems]="totalItems"
                [itemsPerPage]="itemsPerPage"
                [boundaryLinks]="boundaryLinks"
                [directionLinks]="directionLinks"
                [maxSize]="maxSize"
                [rotate]="rotate"
                [firstText]="firstText"
                [lastText]="lastText"
                [nextText]="nextText"
                [previousText]="previousText"
                (pageChanged)="PageChanged($event)">
            </pagination>
        </div>
    </div>   
</div>
